<div class="wrapper hold-transition skin-blue sidebar-mini">

  <app-header></app-header>

  <app-sidebar></app-sidebar>

  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Exam
        <small>TEST</small>
      </h1>
      <ol class="breadcrumb">
        <li>
          <a href="#">
            <i class="fa fa-dashboard"></i> Home</a>
        </li>
        <li class="active">Exam</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <!-- Small boxes (Stat box) -->
      <div class="row">
        <div class="col-xs-10 col-xs-offset-1">

          <!-- START TOEIC FULL TEST CONTENT-->
          <div *ngIf="!isSubmit">
            <div class="gdlr-page-title-wrapper">
              <div class="gdlr-page-title-container">
                <h1 class="gdlr-page-title">TEST EXAM – {{exam.examID}}</h1>
              </div>
            </div>
            <div class="container-fluid">
              <div id="test-time">{{timeCountdown}}</div>

              <form #answerForm="ngForm" (ngSubmit)="onFormSubmit(answerForm)">
                <!-- SHOW PART 1 -->
                <div class="row hidden" [ngClass]="{ 'show': count === 1 }">
                  <div class="col-md-9">
                    <br>
                    <div id="test-mp3">
                      <audio controls preload="auto" [src]="part1.mp3src"></audio>
                    </div>
                    <div class="test-pdf">
                      <div class="part-title">
                        <h3>PART {{part1.partNo}}</h3>
                      </div>
                      <pdf-viewer *ngIf="count == 1" [src]="part1.pdfsrc" [show-all]="true" [render-text]="true" style="display: block; max-height: 1056px; overflow-y: scroll;"></pdf-viewer>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <div class="form-sheet">
                      <div class="form-title">
                        <h4>ANSWER SHEET</h4>
                      </div>
                      <div class="form-answer">
                        <ul>
                          <li *ngFor="let ans of answers1">
                            <span class="numAnswer">{{ans.name}}.</span>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="A">
                              <span class="label-text">A</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="B">
                              <span class="label-text">B</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="C">
                              <span class="label-text">C</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="D">
                              <span class="label-text">D</span>
                            </label>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- SHOW PART 2-->
                <div class="row hidden" [ngClass]="{ 'show': count === 2 }">
                  <div class="col-md-9">
                    <br>
                    <div id="test-mp3">
                      <audio controls preload="auto" [src]="part2.mp3src"></audio>
                    </div>
                    <div class="test-pdf">
                      <div class="part-title">
                        <h3>PART {{part2.partNo}}</h3>
                      </div>
                      <pdf-viewer *ngIf="count == 2" [src]="part2.pdfsrc" [show-all]="true" [render-text]="true" style="display: block; max-height: 1056px; overflow-y: scroll;"></pdf-viewer>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <div class="form-sheet">
                      <div class="form-title">
                        <h4>ANSWER SHEET</h4>
                      </div>
                      <div class="form-answer">
                        <ul>
                          <li *ngFor="let ans of answers2">
                            <span class="numAnswer">{{ans.name}}.</span>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="A">
                              <span class="label-text">A</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="B">
                              <span class="label-text">B</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="C">
                              <span class="label-text">C</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="D">
                              <span class="label-text">D</span>
                            </label>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- SHOW PART 3-->
                <div class="row hidden" [ngClass]="{ 'show': count == 3 }">
                  <div class="col-md-9">
                    <br>
                    <div id="test-mp3">
                      <audio controls preload="auto" [src]="part3.mp3src"></audio>
                    </div>
                    <div class="test-pdf">
                      <div class="part-title">
                        <h3>PART {{part3.partNo}}</h3>
                      </div>
                      <pdf-viewer *ngIf="count == 3" [src]="part3.pdfsrc" [show-all]="true" [render-text]="true" style="display: block; max-height: 1056px; overflow-y: scroll;"></pdf-viewer>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <div class="form-sheet">
                      <div class="form-title">
                        <h4>ANSWER SHEET</h4>
                      </div>
                      <div class="form-answer">
                        <ul>
                          <li *ngFor="let ans of answers3">
                            <span class="numAnswer">{{ans.name}}.</span>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="A">
                              <span class="label-text">A</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="B">
                              <span class="label-text">B</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="C">
                              <span class="label-text">C</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="D">
                              <span class="label-text">D</span>
                            </label>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- SHOW PART 4-->
                <div class="row hidden" [ngClass]="{ 'show': count == 4 }">
                  <div class="col-md-9">
                    <br>
                    <div id="test-mp3">
                      <audio controls preload="auto" [src]="part4.mp3src"></audio>
                    </div>
                    <div class="test-pdf">
                      <div class="part-title">
                        <h3>PART {{part4.partNo}}</h3>
                      </div>
                      <pdf-viewer *ngIf="count == 4" [src]="part4.pdfsrc" [show-all]="true" [render-text]="true" style="display: block; max-height: 1056px; overflow-y: scroll;"></pdf-viewer>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <div class="form-sheet">
                      <div class="form-title">
                        <h4>ANSWER SHEET</h4>
                      </div>
                      <div class="form-answer">
                        <ul>
                          <li *ngFor="let ans of answers4">
                            <span class="numAnswer">{{ans.name}}.</span>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="A">
                              <span class="label-text">A</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="B">
                              <span class="label-text">B</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="C">
                              <span class="label-text">C</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="D">
                              <span class="label-text">D</span>
                            </label>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- SHOW PART 5-->
                <div class="row hidden" [ngClass]="{ 'show': count == 5 }">
                  <div class="col-md-9">
                    <div class="test-pdf">
                      <div class="part-title">
                        <h3>PART {{part5.partNo}}</h3>
                      </div>
                      <pdf-viewer *ngIf="count == 5" [src]="part5.pdfsrc" [show-all]="true" [render-text]="true" style="display: block; max-height: 1056px; overflow-y: scroll;"></pdf-viewer>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <div class="form-sheet fixtop">
                      <div class="form-title">
                        <h4>ANSWER SHEET</h4>
                      </div>
                      <div class="form-answer">
                        <ul>
                          <li *ngFor="let ans of answers5">
                            <span class="numAnswer">{{ans.name}}.</span>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="A">
                              <span class="label-text">A</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="B">
                              <span class="label-text">B</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="C">
                              <span class="label-text">C</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="D">
                              <span class="label-text">D</span>
                            </label>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- SHOW PART 6-->
                <div class="row hidden" [ngClass]="{ 'show': count == 6 }">
                  <div class="col-md-9">
                    <div class="test-pdf">
                      <div class="part-title">
                        <h3>PART {{part6.partNo}}</h3>
                      </div>
                      <pdf-viewer *ngIf="count == 6" [src]="part6.pdfsrc" [show-all]="true" [render-text]="true" style="display: block; max-height: 1056px; overflow-y: scroll;"></pdf-viewer>

                    </div>
                  </div>

                  <div class="col-md-3">
                    <div class="form-sheet fixtop">
                      <div class="form-title">
                        <h4>ANSWER SHEET</h4>
                      </div>
                      <div class="form-answer">
                        <ul>
                          <li *ngFor="let ans of answers6">
                            <span class="numAnswer">{{ans.name}}.</span>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="A">
                              <span class="label-text">A</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="B">
                              <span class="label-text">B</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="C">
                              <span class="label-text">C</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="D">
                              <span class="label-text">D</span>
                            </label>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- SHOW PART 7-->
                <div class="row hidden" [ngClass]="{ 'show': count == 7 }">
                  <div class="col-md-9">
                    <div class="test-pdf">
                      <div class="part-title">
                        <h3>PART {{part7.partNo}}</h3>
                      </div>
                      <pdf-viewer *ngIf="count == 7" [src]="part7.pdfsrc" [show-all]="true" [render-text]="true" style="display: block; max-height: 1056px; overflow-y: scroll;"></pdf-viewer>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <div class="form-sheet fixtop">
                      <div class="form-title">
                        <h4>ANSWER SHEET</h4>
                      </div>
                      <div class="form-answer">
                        <ul>
                          <li *ngFor="let ans of answers7">
                            <span class="numAnswer">{{ans.name}}.</span>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="A">
                              <span class="label-text">A</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="B">
                              <span class="label-text">B</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="C">
                              <span class="label-text">C</span>
                            </label>
                            <label>
                              <input type="radio" [name]="ans.name" [(ngModel)]="ans.value" value="D">
                              <span class="label-text">D</span>
                            </label>
                          </li>
                        </ul>
                        <input type="submit" class="gdlr-button small" value="submit">
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>

            <div class="test-page">
              <ul class="pager">
                <li>
                  <button *ngIf="prebtn" (click)="prePart()">Previous</button>
                </li>
                <li>
                  <select class="custom-select" style="color: black" name="selectPart" [(ngModel)]="selectCnt" (change)="changePart()">
                    <option value="1">Part 1</option>
                    <option value="2">Part 2</option>
                    <option value="3">Part 3</option>
                    <option value="4">Part 4</option>
                    <option value="5">Part 5</option>
                    <option value="6">Part 6</option>
                    <option value="7">Part 7</option>
                  </select>
                </li>
                <li>
                  <button *ngIf="nextbtn" (click)="nextPart()">Next</button>
                </li>
              </ul>
            </div>
          </div>
          <!-- /.END TOEIC FULL TEST CONTENT -->

          <!-- SHOW RESULT TOEIC FULL TEST CONTENT -->
          <div *ngIf="isSubmit">
            <div class="gdlr-page-title-wrapper">
              <div class="gdlr-page-title-container">
                <h1 class="gdlr-page-title">TEST EXAM – FULL TEST</h1>
              </div>
            </div>

            <div class="content-wrapperWeb">
              <div class="gdlr-item gdlr-content-item">
                <table class="tb">
                  <tr>
                    <td>
                      <div class="tb-title">
                        <h4>FULL NAME</h4>
                      </div>
                      <div class="tb-content">{{testResult.username}}</div>
                    </td>
                    <td>
                      <div class="tb-label">
                        <span>LISTENING</span>
                      </div>
                      <div class="tb-p">YOUR SCORE</div>
                      <div class="tb-score">
                        <span class="tb-score-icon">
                          <label class="point">{{testResult.listenPoint}}</label>
                        </span>
                      </div>
                    </td>
                    <td rowspan="2">
                      <div class="tb-total">
                        <span>TOTAL SCORE</span>
                      </div>
                      <div class="tb-total-score">
                        <span class="tb-total-score-icon">
                          <label class="totalPoint">{{testResult.testScore}}</label>
                        </span>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="tb-title">
                        <h4>TEST DATE</h4>
                      </div>
                      <div class="tb-content">{{testResult.dateTest | date:'medium' }}</div>
                    </td>
                    <td>
                      <div class="tb-label">
                        <span>READING</span>
                      </div>
                      <div class="tb-p">YOUR SCORE</div>
                      <div class="tb-score">
                        <span class="tb-score-icon">
                          <label class="point">{{testResult.readPoint}}</label>
                        </span>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <!-- /.SHOW RESULT TOEIC FULL TEST CONTENT -->

        </div>
      </div>

      <!-- /.row -->

    </section>
    <!-- /.content -->
  </div>

</div>
